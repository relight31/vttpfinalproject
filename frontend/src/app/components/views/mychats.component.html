<h1>My Chats</h1>
<p *ngIf="listings.length == 0">
  No active chats. Start a chat with a listing you're interested in the search
  results page!
</p>
<mat-card
  *ngFor="let l of listings; let i = index"
  [ngClass]="cardClass(i)"
  (mouseenter)="onMouseOver(i)"
  (mouseleave)="onMouseOut(i)"
  style="margin-bottom: 5px"
>
  <mat-card-header>
    <mat-card-title
      >{{ l.title }} (Chat with {{ recipients[i] }})</mat-card-title
    >
    <mat-card-subtitle
      >{{ l.currFrom }} to {{ l.currTo }}
      <span *ngIf="l.username == username"
        >(This is your own listing)</span
      ></mat-card-subtitle
    >
  </mat-card-header>
  <mat-card-content>
    <h2>Rate: {{ l.rate }}</h2>
    <p>{{ l.description }}</p>
  </mat-card-content>
  <mat-card-actions align="end">
    <button mat-button (click)="goToChat(i)">
      <mat-icon>chat</mat-icon> Go to Chat
    </button>
  </mat-card-actions>
</mat-card>
